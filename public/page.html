<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Page Dashboard</title>
  <link rel="stylesheet" href="css/style.css" />
  <style>
    /* Additional styles for AI Section enhancements */
    #ai-monitor-log {
      height: 300px;
      overflow-y: auto;
      background: #111;
      color: #fff;
      padding: 10px;
      font-family: monospace;
      font-size: 0.9rem;
      border-radius: 6px;
      direction: rtl;
    }
    #ai-live-status {
      font-weight: bold;
      margin-bottom: 10px;
    }
    #ai-topics-table th, #ai-topics-table td {
      padding: 5px 10px;
      border: 1px solid #ccc;
    }
    #ai-upcoming-posts-container table th, #ai-upcoming-posts-container table td {
      padding: 4px 8px;
      border: 1px solid #aaa;
    }
    .topic-group { margin-bottom: 20px; }
  </style>
</head>
<body>
  <div class="layout">
    <aside class="sidebar">
      <div class="brand"><span class="dot"></span><h2>MEGA CONTROL</h2></div>
      <nav class="nav" id="page-nav">
        <a data-page="overview" class="active">Overview</a>
        <a data-page="create-post">Create Post</a>
        <a data-page="page-logs">Logs</a>
        <hr />
        <a data-page="messaging-section">Messaging</a>
        <a data-page="analytics-section">Analytics</a>
        <a data-page="ads-section">Ads</a>
        <a data-page="manage-section">Manage</a>
        <a data-page="ai-scheduler-section">AI Post Scheduler</a>
      </nav>
    </aside>

    <main class="main">
      <div class="topbar">
        <h1 id="page-title">Page Dashboard</h1>
      </div>

      <!-- Other sections untouched (Create Post, Messaging, Analytics, Ads, Manage) -->

      <!-- ----- AI POST SCHEDULER SECTION ----- -->
      <section class="card" id="ai-scheduler-section" style="display:none;">
        <h3>AI Post Scheduler</h3>

        <!-- Live AI Status -->
        <div id="ai-live-status">Status: Idle</div>

        <!-- Topic and Scheduling Inputs -->
        <div class="ai-topic-inputs">
          <label>Select Topic</label>
          <select id="ai-topic-select"></select>

          <label>Or Enter New Topic</label>
          <input type="text" id="ai-topic-name" placeholder="Enter topic">

          <label>Posts Per Day</label>
          <select id="ai-posts-per-day">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
          </select>

          <label>Times (HH:MM) - one per post per day</label>
          <div id="ai-times-container"></div>
          <button id="ai-add-time">Add Time</button>

          <label>Schedule Period</label>
          <input type="date" id="ai-start-date"> to <input type="date" id="ai-end-date">

          <label>Repeat</label>
          <select id="ai-repeat-type">
            <option value="daily">Daily</option>
            <option value="weekly">Weekly</option>
            <option value="monthly">Monthly</option>
          </select>

          <label>Include Media</label>
          <input type="checkbox" id="ai-include-media" checked>

          <div class="actions">
            <button id="ai-save-topic">Save Topic</button>
            <button id="ai-generate-post-now">Generate and Post Now</button>
            <button id="ai-delete-all-topic-posts">Delete Topic Posts</button>
            <button id="ai-clear-logs">Clear Logs</button>
          </div>
        </div>

        <!-- Topics Table -->
        <h4>Topics List</h4>
        <table id="ai-topics-table">
          <thead>
            <tr><th>Topic Name</th><th>Posts/Day</th><th>Period</th><th>Actions</th></tr>
          </thead>
          <tbody></tbody>
        </table>

        <!-- Upcoming Posts Container -->
        <h4>Upcoming Posts Grouped by Topic</h4>
        <div id="ai-upcoming-posts-container"></div>

        <!-- Logs Table -->
        <h4>Logs (Latest 5)</h4>
        <table>
          <thead>
            <tr>
              <th>Post</th>
              <th>Action</th>
              <th>Message</th>
              <th>Time</th>
              <th>Delete</th>
              <th>Retry</th>
            </tr>
          </thead>
          <tbody id="ai-logs"></tbody>
        </table>

        <!-- AI Operations Monitor -->
        <h4>AI Operations Monitor</h4>
        <div id="ai-monitor-log">
          <!-- Live logs scroll RTL -->
        </div>

      </section>
    </main>
  </div>

  <!-- Scripts -->
  <script src="js/api.js"></script>
  <script src="js/page.js"></script>
  <script src="js/page-features.js"></script>
  <script src="js/pageAi.js"></script>
</body>
</html>
